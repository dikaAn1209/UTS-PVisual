<!DOCTYPE html>
<head>
    <title>Konversi Suhu</title>
    <link rel="stylesheet" href="index.css" type="text/css">
</head>
<body>
    <div class="my-auto">
        <form class="p-3 text-center col-md-6 border mx-auto rounded border-alt" id="temp-form">
            <h1 class="text-center">Konversi Suhu</h1>
            <div class="d-block p-3">
            <label class="font-weight-bold d-block" for="temp-input">Masukkan Suhu</label>
            <input class="text-center" type="number" name="temp-input" id="temp-init" step="0.01">
            </div>
            <div class="p-3 row">
                <div class="col-4 mx-auto">
                    <label class="font-weight-bold" for="unit-init">Unit Suhu Sekarang</label>
                    <select name="unit-init" id="unit-init">
                        <option value="unit-ic">Celsius</option>
                        <option value="unit-if">Fahrenheit</option>
                        <option value="unit-ir">Reamur</option>
                        <!-- <option value="unit-ik">Kelvin</option> -->
                    </select>
                </div>
                <div class="col-4 mx-auto">
                    <label class="font-weight-bold" for="unit-conv">Ubah ke</label>
                    <select name="unit-conv" id="unit-target">
                        <option value="unit-cc">Celsius</option>
                        <option value="unit-cf">Fahrenheit</option>
                        <option value="unit-cr">Reamur</option>
                        <!-- <option value="unit-ck">Kelvin</option> -->
                    </select>
                </div>
            </div>
            <div class="d-block p-3">
                <label class="font-weight-bold d-block" for="temp-result">Hasil Konversi</label>
                <input class="d-inline text-center" type="number" name="temp-result" id="temp-result" value="" readonly>
                <p class="d-inline font-weight-bold" id="result-unit"></p>
            </div>
            <div class="d-block p-3">
                <button class="btn btn-success" type="submit">Ubah</button>
                <button class="btn btn-danger" type="reset">Atur Ulang</button>
            </div>
        </form>
    </div>
        <script>
            var form = document.getElementById("temp-form");
            form.addEventListener("submit",event => {
                event.preventDefault();
                var initialValue=document.getElementById("temp-init").value,
                initUnit = document.getElementById("unit-init"),
                targetUnit = document.getElementById("unit-target");
                var result;
                function degreeOutputCelsius(){
                    document.getElementById("result-unit").innerHTML = "&deg;C";
                }
                function degreeOutputFahrenheit(){
                    document.getElementById("result-unit").innerHTML = "&deg;F";
                }
                function degreeOutputReamur(){
                    document.getElementById("result-unit").innerHTML = "&deg;R";
                }
                function resultDecimalization(tempResult){
                    return parseFloat(tempResult).toFixed(2);
                }
                if (initUnit.value == "unit-ic") {
                    if (targetUnit.value == "unit-cc") {
                        // document.getElementById("temp-result").value = initialValue;
                        result = initialValue;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputCelsius();
                    } 
                    else if (targetUnit.value == "unit-cf") {
                        // document.getElementById("temp-result").value =  ((9/5) * initialValue) + 32;
                        result = ((9/5) * initialValue) + 32;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputFahrenheit();
                    }
                    else if (targetUnit.value == "unit-cr") {
                        // document.getElementById("temp-result").value = (4/5) * initialValue;
                        result = (4/5) * initialValue;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputReamur();
                    }
                    // else if (targetUnit.value == "unit-ck"){
                    //     document.getElementById("temp-result").value = initialValue + 273;
                    //}
                } 
                else if (initUnit.value == "unit-if"){
                    if (targetUnit.value == "unit-cc"){
                        // document.getElementById("temp-result").value = ((5/9) * initialValue) - 32;
                        result = ((5/9) * (initialValue - 32));
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputCelsius();
                    } 
                    else if (targetUnit.value == "unit-cf"){
                        // document.getElementById("temp-result").value = initialValue;
                        result = initialValue;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputFahrenheit();
                    }
                    else if (targetUnit.value == "unit-cr"){
                        // document.getElementById("temp-result").value = ((4/9) * initialValue) - 32;
                        result = ((4/9) * (initialValue - 32)) ;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputReamur();
                    }
                    // else if (targetUnit.value == "unit-ck"){
                    //     document.getElementById("temp-result").value = (((5/9) * initialValue) - 32) + 273;
                    //}
                }
                else if (initUnit.value == "unit-ir"){
                    if (targetUnit.value == "unit-cc"){
                        // document.getElementById("temp-result").value = (5/4) * initialValue;
                        result = (5/4) * initialValue;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputCelsius();
                    } 
                    else if (targetUnit.value == "unit-cf"){
                        // document.getElementById("temp-result").value = ((9/4) * initialValue) + 32;
                        result = ((9/4) * initialValue) + 32 ;
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputFahrenheit();
                    }
                    else if (targetUnit.value == "unit-cr"){
                        // document.getElementById("temp-result").value = initialValue;
                        result = initialValue
                        document.getElementById("temp-result").value = resultDecimalization(result);
                        degreeOutputReamur();
                    }
                    // else if (targetUnit.value == "unit-ck"){
                    //     document.getElementById("temp-result").value = ((5/4) * initialValue) + 273;
                    //}
                }
                // else if (initUnit.value == "unit-ik"){
                //     if (targetUnit.value == "unit-cc"){
                //         document.getElementById("temp-result").value = initialValue - 273;
                //     } 
                //     else if (targetUnit.value == "unit-cf"){
                //         document.getElementById("temp-result").value = (((9/5) * initialValue) + 32) - 273;
                //     }
                //     else if (targetUnit.value == "unit-cr"){
                //         document.getElementById("temp-result").value = ((4/5) * initialValue) - 273;
                //     }
                //     else if (targetUnit.value == "unit-ck"){
                //         return initialValue;
                //     }
                //}
            });
        </script>
    </body>
</html>